{"ast":null,"code":"import _classCallCheck from \"/Users/asiacarter/Desktop/workspace/checkup/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/asiacarter/Desktop/workspace/checkup/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/asiacarter/Desktop/workspace/checkup/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/asiacarter/Desktop/workspace/checkup/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/asiacarter/Desktop/workspace/checkup/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/asiacarter/Desktop/workspace/checkup/src/components/login/Register.js\";\n//Component renders and registration form\nimport React, { Component } from \"react\";\nimport \"./Login.css\";\nimport pill from \"../../images/login/pills.png\";\n\nvar Register =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Register, _Component);\n\n  function Register() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Register);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Register)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      name: \"\",\n      email: \"\",\n      password: \"\" //records changes to input fields and places them in state\n\n    };\n\n    _this.handleFieldChange = function (evt) {\n      var stateToChange = {};\n      stateToChange[evt.target.id] = evt.target.value;\n\n      _this.setState(stateToChange);\n    };\n\n    _this.getAllUsers = function (evt) {\n      evt.preventDefault();\n\n      _this.props.getUsers().then(function (allUsers) {\n        var usersArray = allUsers.filter(function (user) {\n          console.log(user.email, _this.state.email);\n          return user.email === _this.state.email;\n        });\n\n        if (usersArray.length > 0) {\n          alert(\"Sorry, this username is taken\");\n        } else {\n          alert(\"Welcome \".concat(_this.state.name, \"!\"));\n          var newUser = {\n            name: _this.state.name,\n            email: _this.state.email,\n            password: _this.state.password\n          };\n\n          _this.props.postUser(newUser).then(function () {\n            _this.props.getUsers().then(function () {\n              _this.props.history.push(\"/\");\n            });\n          });\n        }\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Register, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n        className: \"wrapper fadeInDown\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"formContent\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"fadeIn first\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: pill,\n        id: \"registericon\",\n        alt: \"CheckUp Logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, \"Register\")), React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        id: \"name\",\n        className: \"fadeIn second\",\n        name: \"login\",\n        autoComplete: \"off\",\n        required: true,\n        onChange: this.handleFieldChange,\n        placeholder: \"name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        id: \"email\",\n        className: \"fadeIn second\",\n        name: \"login\",\n        autoComplete: \"off\",\n        required: true,\n        onChange: this.handleFieldChange,\n        placeholder: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        id: \"password\",\n        autoComplete: \"off\",\n        required: true,\n        onChange: this.handleFieldChange,\n        className: \"fadeIn third\",\n        name: \"login\",\n        placeholder: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"submit\",\n        className: \"fadeIn fourth\",\n        onClick: this.getAllUsers,\n        value: \"Register\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        id: \"formFooter\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return Register;\n}(Component);\n\nexport { Register as default };","map":{"version":3,"sources":["/Users/asiacarter/Desktop/workspace/checkup/src/components/login/Register.js"],"names":["React","Component","pill","Register","state","name","email","password","handleFieldChange","evt","stateToChange","target","id","value","setState","getAllUsers","preventDefault","props","getUsers","then","allUsers","usersArray","filter","user","console","log","length","alert","newUser","postUser","history","push"],"mappings":"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","sourcesContent":["//Component renders and registration form\nimport React, { Component } from \"react\"\nimport \"./Login.css\"\nimport pill from \"../../images/login/pills.png\"\nexport default class Register extends Component {\n\n    state = {\n        name: \"\",\n        email: \"\",\n        password: \"\"\n    }\n    //records changes to input fields and places them in state\n    handleFieldChange = evt => {\n        const stateToChange = {};\n        stateToChange[evt.target.id] = evt.target.value\n        this.setState(stateToChange)\n    }\n    //gets all users, checks to make sure no two emails are the same, if they are the user is alerted \"sorry this username is taken\", if the entered email is unique, the user is alerted \"welcome\" and the new user is posted to the database and user is re-directed to the login page\n\n    getAllUsers = evt => {\n        evt.preventDefault();\n        this.props.getUsers().then(allUsers => {\n            let usersArray = allUsers.filter(user => {\n                console.log(user.email, this.state.email)\n                return (user.email === this.state.email)\n            })\n            if (usersArray.length > 0) {\n                alert(\"Sorry, this username is taken\")\n            } else {\n                alert(`Welcome ${this.state.name}!`)\n                const newUser = {\n                    name: this.state.name,\n                    email: this.state.email,\n                    password: this.state.password\n                }\n                this.props.postUser(newUser)\n                    .then(() => {\n                        this.props.getUsers()\n                            .then(() => {\n                            this.props.history.push(\"/\")\n                            })\n                    })\n            }\n        })\n    }\n\n    render() {\n        return (\n            <>\n                <div className=\"wrapper fadeInDown\">\n                <div id=\"formContent\">\n                    <div className=\"fadeIn first\">\n                        <img src={pill} id=\"registericon\" alt=\"CheckUp Logo\" />\n                        <h2>Register</h2>\n                    </div>\n                    {/* <!-- Login Form --> */}\n                        <form>\n                            <input type=\"text\" id=\"name\"\n                            className=\"fadeIn second\"\n                            name=\"login\"\n                            autoComplete=\"off\"\n                            required onChange={this.handleFieldChange}\n                            placeholder=\"name\"/>\n                            <input type=\"text\" id=\"email\" className=\"fadeIn second\"\n                            name=\"login\"\n                            autoComplete=\"off\"\n                            required onChange={this.handleFieldChange}\n                            placeholder=\"email\"/>\n                            <input type=\"text\" id=\"password\"\n                            autoComplete=\"off\"\n                            required onChange={this.handleFieldChange}className=\"fadeIn third\" name=\"login\" placeholder=\"password\"/>\n                            <input type=\"submit\" className=\"fadeIn\n                            fourth\"\n                            onClick={this.getAllUsers}value=\"Register\"/>\n                        </form>\n                    <div id=\"formFooter\">\n                    </div>\n                </div>\n                </div>\n            </>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}