{"ast":null,"code":"import _classCallCheck from \"/Users/asiacarter/Desktop/workspace/checkup/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/asiacarter/Desktop/workspace/checkup/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/asiacarter/Desktop/workspace/checkup/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/asiacarter/Desktop/workspace/checkup/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/asiacarter/Desktop/workspace/checkup/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/asiacarter/Desktop/workspace/checkup/src/components/login/Login.js\";\n//component is responsible for rendering the login page\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Login)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      email: \"\",\n      password: \"\" //function records changes to input fields and places them in state\n\n    };\n\n    _this.handleFieldChange = function (evt) {\n      var stateToChange = {};\n      stateToChange[evt.target.id] = evt.target.value;\n\n      _this.setState(stateToChange);\n\n      console.log(_this.state);\n    };\n\n    _this.onLogin = function (evt) {\n      evt.preventDefault();\n\n      _this.props.checkForUser(_this.state.email, _this.state.password).then(function (user) {\n        console.log(\"userArray:\", user);\n\n        if (user.length === 0) {\n          alert(\"We can't seem to find you! Try registering below\");\n        } else {\n          user.forEach(function (u) {\n            var loggedIn = false;\n\n            if (_this.state.email === u.email && _this.state.password === u.password) {\n              loggedIn = true;\n            }\n\n            if (loggedIn === true) {\n              sessionStorage.setItem(\"User\", u.id);\n              var seshUser = sessionStorage.getItem(\"User\");\n              console.log(seshUser);\n\n              _this.props.history.push(\"/home\");\n            }\n          });\n        }\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(React.Fragment, null, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, \"Login\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"Email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, \"Email:\"), React.createElement(\"input\", {\n        type: \"text\",\n        required: true,\n        onChange: this.handleFieldChange,\n        id: \"email\",\n        placeholder: \"jane.smith@gmail.com\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"Password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, \"Password:\"), React.createElement(\"input\", {\n        type: \"password\",\n        required: true,\n        onChange: this.handleFieldChange,\n        id: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"submit\",\n        onClick: this.onLogin,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"Login\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/register\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \"Register Here\"))))));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nexport { Login as default };","map":{"version":3,"sources":["/Users/asiacarter/Desktop/workspace/checkup/src/components/login/Login.js"],"names":["React","Component","Link","Login","state","email","password","handleFieldChange","evt","stateToChange","target","id","value","setState","console","log","onLogin","preventDefault","props","checkForUser","then","user","length","alert","forEach","u","loggedIn","sessionStorage","setItem","seshUser","getItem","history","push"],"mappings":"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","sourcesContent":["//component is responsible for rendering the login page\nimport React, { Component } from \"react\"\nimport { Link } from \"react-router-dom\"\n\nexport default class Login extends Component {\n    state = {\n        email: \"\",\n        password: \"\"\n    }\n\n    //function records changes to input fields and places them in state\n    handleFieldChange = evt => {\n        const stateToChange = {};\n        stateToChange[evt.target.id] = evt.target.value\n        this.setState(stateToChange)\n        console.log(this.state)\n    }\n\n    //function prevents form default, gets user by email and password entered in input fields. If that user does not exist within the database, an alert message is displayed. If the entered email and password do exist in the database, session storage is set and the user is sent to the homepage\n    onLogin = evt => {\n        evt.preventDefault();\n        this.props.checkForUser(this.state.email, this.state.password)\n            .then(user => {\n                console.log(\"userArray:\", user)\n                if (user.length === 0) {\n                    alert(\"We can't seem to find you! Try registering below\")\n                } else {\n                    user.forEach(u => {\n                        let loggedIn = false;\n                        if (this.state.email === u.email && this.state.password === u.password) {\n                            loggedIn = true;\n                        }\n                        if (loggedIn === true) {\n                            sessionStorage.setItem(\"User\", u.id)\n                            let seshUser = sessionStorage.getItem(\"User\")\n                            console.log(seshUser)\n                            this.props.history.push(\"/home\")\n\n                        }\n                    })\n                }\n            })\n    }\n    render() {\n        return (\n            <>\n                <h2>Login</h2>\n                <div>\n                    <form>\n                        <div>\n                            <label htmlFor=\"Email\">\n                                Email:\n                        </label>\n                            <input type=\"text\" required onChange={this.handleFieldChange}\n                                id=\"email\"\n                                placeholder=\"jane.smith@gmail.com\" />\n                        </div>\n                        <div>\n                            <label htmlFor=\"Password\">\n                                Password:\n                        </label>\n                            <input type=\"password\" required onChange={this.handleFieldChange}\n                                id=\"password\" />\n                        </div>\n                        <div>\n                            <button type=\"submit\" onClick={this.onLogin} >\n                                Login\n                            </button>\n                            <p><Link to=\"/register\">Register Here</Link></p>\n                        </div>\n                    </form>\n                </div>\n\n            </>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}